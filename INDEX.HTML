import { useState } from "react"; import { Card, CardContent } from "@/components/ui/card"; import { Button } from "@/components/ui/button";

export default function TradeCalculator() { const [trades, setTrades] = useState([]); const [form, setForm] = useState({balance: "", risk: "", entry: "", stop: "", target: ""});

const calculate = () => { const riskAmount = (parseFloat(form.balance) * parseFloat(form.risk)) / 100; const diff = Math.abs(parseFloat(form.entry) - parseFloat(form.stop)); const lot = riskAmount / diff; const reward = Math.abs(parseFloat(form.entry) - parseFloat(form.target)) * lot; const rr = reward / riskAmount; setTrades([...trades, { ...form, lot: lot.toFixed(2), riskAmount: riskAmount.toFixed(2), rr: rr.toFixed(2) }]); };

return ( <div className="min-h-screen bg-gray-100 flex items-center justify-center p-4"> <Card className="w-full max-w-xl shadow-lg rounded-2xl"> <CardContent className="p-6 space-y-4"> <h1 className="text-2xl font-bold text-center">Ultimate Trade Risk & Position Size Calculator</h1> <div className="grid grid-cols-2 gap-4"> {Object.keys(form).map((key) => ( <input key={key} className="p-2 border rounded-xl focus:outline-none focus:ring focus:ring-blue-400" placeholder={key.charAt(0).toUpperCase() + key.slice(1)} value={form[key]} onChange={(e) => setForm({ ...form, [key]: e.target.value })} type="number" /> ))} </div> <Button className="w-full" onClick={calculate}>محاسبه</Button> <div className="overflow-x-auto"> <table className="w-full text-sm text-left mt-4 border"> <thead> <tr className="bg-blue-500 text-white"> <th className="p-2">ورودی</th> <th className="p-2">استاپ</th> <th className="p-2">لات</th> <th className="p-2">ریسک ($)</th> <th className="p-2">R:R</th> </tr> </thead> <tbody> {trades.map((t, i) => ( <tr key={i} className="odd:bg-white even:bg-gray-50"> <td className="p-2">{t.entry}</td> <td className="p-2">{t.stop}</td> <td className="p-2">{t.lot}</td> <td className="p-2">{t.riskAmount}</td> <td className="p-2">{t.rr}</td> </tr> ))} </tbody> </table> </div> </CardContent> </Card> </div> ); }

